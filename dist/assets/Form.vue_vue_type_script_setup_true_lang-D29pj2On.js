import{d as F,b as r,r as o,o as M,c as q,w as l,a as e,u as v,g as D,f as G}from"./index-CJ0P2Z7N.js";import{r as _}from"./ruleUtils-Dk9EfJu0.js";import{c as T}from"./sacrament.services-DrLqVscL.js";const $={date:[_],parishId:[_],ministerId:[_],description:[]},b=i=>({id:null,date:null,type:i,description:"",minister:null,participants:[],isExternal:!1,status:!0}),H=F({__name:"Form",props:{formState:{},ministersItems:{},type:{}},emits:["onSuccess"],setup(i,{emit:x}){const y=x,u=i,d=$,f=r(null),m=r(!1),s=r(!1),a=r({...b(u.type),...u.formState}),g=async()=>{const{valid:c}=await f.value.validate();if(!c)return;m.value=!0,await T(a.value)&&(a.value.id==null&&(a.value=b(u.type)),y("onSuccess"),s.value=!1),m.value=!1};return(c,t)=>{const w=o("v-text-field"),p=o("v-col"),I=o("v-select"),S=o("v-textarea"),C=o("v-row"),R=o("v-card-item"),V=o("v-btn"),k=o("v-spacer"),U=o("v-card-actions"),N=o("v-card"),B=o("v-form"),E=o("v-dialog");return M(),q(E,{"max-width":"400",modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=n=>s.value=n),activator:"parent"},{default:l(()=>[e(B,{ref_key:"formRef",ref:f,onSubmit:G(g,["prevent"])},{default:l(()=>[e(N,{title:a.value.id?"Editar Registro":"Nuevo Registro"},{default:l(()=>[e(R,{class:"border-t border-b"},{default:l(()=>[e(C,null,{default:l(()=>[e(p,{cols:"12"},{default:l(()=>[e(w,{modelValue:a.value.date,"onUpdate:modelValue":t[0]||(t[0]=n=>a.value.date=n),label:"Fecha de bautismo",type:"date",rules:v(d).date,autocomplete:"off"},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:l(()=>[e(I,{label:"Ministro",modelValue:a.value.ministerId,"onUpdate:modelValue":t[1]||(t[1]=n=>a.value.ministerId=n),items:c.ministersItems,rules:v(d).ministerId},null,8,["modelValue","items","rules"])]),_:1}),e(p,{cols:"12"},{default:l(()=>[e(S,{modelValue:a.value.description,"onUpdate:modelValue":t[2]||(t[2]=n=>a.value.description=n),label:"DescripciÃ³n",rules:v(d).description,rows:"2"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(U,null,{default:l(()=>[e(V,{type:"button",variant:"text",color:"secondary",onClick:t[3]||(t[3]=n=>s.value=!1)},{default:l(()=>t[5]||(t[5]=[D(" Cancelar ")])),_:1}),e(k),e(V,{text:"Guardar",color:"primary",type:"submit",loading:m.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:1},512)]),_:1},8,["modelValue"])}}});export{H as _};
