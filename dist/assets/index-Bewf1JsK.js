import{_ as C,d as I}from"./debounce-Bz1f7fWb.js";import{_ as $}from"./position.services-Ch_tZ3L6.js";import{_ as E}from"./DialogConfirm.vue_vue_type_script_setup_true_lang-Cxfsjbfz.js";import{d as k,e as p,r as n,h as w,o as v,c,w as t,i as b,a as s,g as d,u as g,t as O}from"./index-DgXLauUC.js";import"./ruleUtils-DaB-ACZt.js";const V=[{title:"Op.",key:"actions",value:"actions",fixed:!0,width:"50px",sortable:!1},{title:"Tipo",key:"type",value:"type"},{title:"Nombres",key:"name",value:"name"},{title:"Fecha de realización",key:"date",value:"date"},{title:"Estado",key:"status",value:"status"}],S=k({__name:"CertificateDataTable",props:{options:{},items:{},loading:{type:Boolean},total:{}},emits:["onUpdateTable"],setup(D,{emit:m}){const i=m,r=p(!1),y=async a=>{r.value=!0,await $(a)&&i("onUpdateTable"),r.value=!1};return(a,e)=>{const l=n("v-icon"),T=n("v-list-item"),U=n("v-list"),_=n("v-menu"),f=n("v-btn"),x=n("v-data-table-server"),u=w("permission");return v(),c(x,{"items-per-page":a.options.itemsPerPage,"onUpdate:itemsPerPage":[e[1]||(e[1]=o=>a.options.itemsPerPage=o),e[4]||(e[4]=o=>i("onUpdateTable"))],"sort-by":a.options.sortBy,"onUpdate:sortBy":[e[2]||(e[2]=o=>a.options.sortBy=o),e[5]||(e[5]=o=>i("onUpdateTable"))],page:a.options.page,"onUpdate:page":[e[3]||(e[3]=o=>a.options.page=o),e[6]||(e[6]=o=>i("onUpdateTable"))],headers:g(V),items:a.items,"items-length":a.total,loading:r.value,"item-value":"id","multi-sort":""},{"item.actions":t(({item:o})=>[b((v(),c(f,{icon:"",density:"compact",variant:"text"},{default:t(()=>[s(l,null,{default:t(()=>e[7]||(e[7]=[d("mdi-dots-vertical")])),_:1}),s(_,{activator:"parent"},{default:t(()=>[s(U,{density:"compact"},{default:t(()=>[b((v(),c(T,{key:"edit",value:"edit","append-icon":"mdi-pencil",class:"text-subtitle-2"},{append:t(()=>[s(l,{size:"small"},{default:t(()=>e[8]||(e[8]=[d(" mdi-pencil ")])),_:1})]),default:t(()=>[e[9]||(e[9]=d(" Editar ")),s(g(C),{formState:o,onOnSuccess:e[0]||(e[0]=B=>i("onUpdateTable"))},null,8,["formState"])]),_:2},1024)),[[u,["positions.edit"]]]),b((v(),c(T,{key:"delete",value:"delete",class:"text-red text-subtitle-2"},{append:t(()=>[s(l,{size:"small",color:"red"},{default:t(()=>e[10]||(e[10]=[d(" mdi-delete ")])),_:1})]),default:t(()=>[e[11]||(e[11]=d(" Eliminar ")),s(E,{title:"Eliminar",message:"¿Está seguro de eliminar este registro?","text-cancel":"No","text-confirm":"Confirmar",loading:r.value,onOnConfirm:()=>y(o.id)},null,8,["loading","onOnConfirm"])]),_:2},1024)),[[u,["positions.delete"]]])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[u,["positions.edit","positions.delete"]]])]),"item.status":t(({item:o})=>[s(f,{color:o.status?"blue":"error","text-color":"white",density:"compact",variant:"tonal"},{default:t(()=>[d(O(o.status?"Habilitado":"Deshabilitado"),1)]),_:2},1032,["color"])]),_:1},8,["items-per-page","sort-by","page","headers","items","items-length","loading"])}}}),H=k({__name:"index",setup(D){const m=p(!1),i=p(!1),r=p([]),y=p(0),a=p({itemsPerPage:10,sortBy:[],page:1,search:"",filters:{}}),e=I(()=>{l()},400),l=async()=>{};return(async()=>{m.value=!0,await l(),m.value=!1})(),(U,_)=>{const f=n("v-text-field"),x=n("v-col"),u=n("v-row"),o=n("v-card-item"),B=n("v-card"),N=w("permission");return v(),c(B,{title:"Buscar Actas",subtitle:"Buscar actas por DNI o Nombres y Apellidos",disabled:m.value},{default:t(()=>[s(o,{class:"border-t border-b"},{default:t(()=>[s(u,{class:"d-flex justify-center"},{default:t(()=>[s(x,{cols:"12",md:"8"},{default:t(()=>[s(f,{modelValue:a.value.search,"onUpdate:modelValue":_[0]||(_[0]=P=>a.value.search=P),label:"Buscar 'DNI o Nombres y Apellidos'",clearable:"",onInput:g(e)},null,8,["modelValue","onInput"])]),_:1})]),_:1})]),_:1}),b(s(g(S),{options:a.value,loading:i.value,items:r.value,total:y.value,onOnUpdateTable:l},null,8,["options","loading","items","total"]),[[N,["positions.index"]]])]),_:1},8,["disabled"])}}});export{H as default};
