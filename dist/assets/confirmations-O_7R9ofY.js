import{d as D,e as p,r as o,h as B,o as g,c as y,w as a,i as x,a as t,g as _,u as S,t as O,f as E}from"./index-DgXLauUC.js";import{_ as R,d as I}from"./debounce-Bz1f7fWb.js";import{_ as M}from"./position.services-Ch_tZ3L6.js";import{_ as z}from"./DialogConfirm.vue_vue_type_script_setup_true_lang-Cxfsjbfz.js";import"./ruleUtils-DaB-ACZt.js";const A=[{title:"Op.",key:"actions",value:"actions",fixed:!0,width:"50px",sortable:!1},{title:"Nombre",key:"name",value:"name"},{title:"Apellido Paterno",key:"paternalSurname",value:"paternalSurname"},{title:"Apellido Materno",key:"maternalSurname",value:"maternalSurname"},{title:"Fecha de Nacimiento",key:"birthDate",value:"birthDate"},{title:"Lugar de Nacimiento",key:"birthPlace",value:"birthPlace"},{title:"Padre",key:"father",value:"father"},{title:"Madre",key:"mother",value:"mother"},{title:"Lugar de Bautizo",key:"baptismPlace",value:"baptismPlace"},{title:"Estado",key:"status",value:"status"}],L=D({__name:"ConfirmationDataTable",props:{options:{},items:{},loading:{type:Boolean},total:{}},emits:["onUpdateTable"],setup(w,{emit:v}){const u=v,c=p(!1),b=async s=>{c.value=!0,await M(s)&&u("onUpdateTable"),c.value=!1};return(s,e)=>{const m=o("v-icon"),V=o("v-list-item"),l=o("v-list"),d=o("v-menu"),r=o("v-btn"),U=o("v-data-table-server"),f=B("permission");return g(),y(U,{"items-per-page":s.options.itemsPerPage,"onUpdate:itemsPerPage":[e[1]||(e[1]=i=>s.options.itemsPerPage=i),e[4]||(e[4]=i=>u("onUpdateTable"))],"sort-by":s.options.sortBy,"onUpdate:sortBy":[e[2]||(e[2]=i=>s.options.sortBy=i),e[5]||(e[5]=i=>u("onUpdateTable"))],page:s.options.page,"onUpdate:page":[e[3]||(e[3]=i=>s.options.page=i),e[6]||(e[6]=i=>u("onUpdateTable"))],headers:S(A),items:s.items,"items-length":s.total,loading:c.value,"item-value":"id","multi-sort":""},{"item.actions":a(({item:i})=>[x((g(),y(r,{icon:"",density:"compact",variant:"text"},{default:a(()=>[t(m,null,{default:a(()=>e[7]||(e[7]=[_("mdi-dots-vertical")])),_:1}),t(d,{activator:"parent"},{default:a(()=>[t(l,{density:"compact"},{default:a(()=>[x((g(),y(V,{key:"edit",value:"edit","append-icon":"mdi-pencil",class:"text-subtitle-2"},{append:a(()=>[t(m,{size:"small"},{default:a(()=>e[8]||(e[8]=[_(" mdi-pencil ")])),_:1})]),default:a(()=>[e[9]||(e[9]=_(" Editar ")),t(S(R),{formState:i,onOnSuccess:e[0]||(e[0]=P=>u("onUpdateTable"))},null,8,["formState"])]),_:2},1024)),[[f,["positions.edit"]]]),x((g(),y(V,{key:"delete",value:"delete",class:"text-red text-subtitle-2"},{append:a(()=>[t(m,{size:"small",color:"red"},{default:a(()=>e[10]||(e[10]=[_(" mdi-delete ")])),_:1})]),default:a(()=>[e[11]||(e[11]=_(" Eliminar ")),t(z,{title:"Eliminar",message:"¿Está seguro de eliminar este registro?","text-cancel":"No","text-confirm":"Confirmar",loading:c.value,onOnConfirm:()=>b(i.id)},null,8,["loading","onOnConfirm"])]),_:2},1024)),[[f,["positions.delete"]]])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[f,["positions.edit","positions.delete"]]])]),"item.status":a(({item:i})=>[t(r,{color:i.status?"blue":"error","text-color":"white",density:"compact",variant:"tonal"},{default:a(()=>[_(O(i.status?"Habilitado":"Deshabilitado"),1)]),_:2},1032,["color"])]),_:1},8,["items-per-page","sort-by","page","headers","items","items-length","loading"])}}}),j=D({__name:"ConfirmationForm",props:{formState:{type:Object,default:()=>({})}},emits:["onSuccess"],setup(w,{emit:v}){const u=v,c=w,b=p(!1),s=p(!1),e=p({...c.formState}),m=async()=>{b.value=!0,setTimeout(()=>{b.value=!1,s.value=!1,u("onSuccess")},1500)};return(V,l)=>{const d=o("v-text-field"),r=o("v-col"),U=o("v-switch"),f=o("v-row"),i=o("v-card-item"),P=o("v-btn"),N=o("v-spacer"),k=o("v-card-actions"),C=o("v-card"),T=o("v-form"),$=o("v-dialog");return g(),y($,{"max-width":"700",modelValue:s.value,"onUpdate:modelValue":l[10]||(l[10]=n=>s.value=n),activator:"parent"},{default:a(()=>[t(T,{ref:"formRef",onSubmit:E(m,["prevent"])},{default:a(()=>[t(C,{title:e.value.id?"Editar Registro":"Nuevo Registro"},{default:a(()=>[t(i,{class:"border-t border-b"},{default:a(()=>[t(f,null,{default:a(()=>[t(r,{cols:"12"},{default:a(()=>[t(d,{modelValue:e.value.baptismParish,"onUpdate:modelValue":l[0]||(l[0]=n=>e.value.baptismParish=n),label:"Parroquia de Bautizo"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12"},{default:a(()=>[t(d,{modelValue:e.value.name,"onUpdate:modelValue":l[1]||(l[1]=n=>e.value.name=n),label:"Nombres"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12",md:"6"},{default:a(()=>[t(d,{modelValue:e.value.paternalSurname,"onUpdate:modelValue":l[2]||(l[2]=n=>e.value.paternalSurname=n),label:"Apellido Paterno"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12",md:"6"},{default:a(()=>[t(d,{modelValue:e.value.maternalSurname,"onUpdate:modelValue":l[3]||(l[3]=n=>e.value.maternalSurname=n),label:"Apellido Materno"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12",md:"6"},{default:a(()=>[t(d,{modelValue:e.value.birthdate,"onUpdate:modelValue":l[4]||(l[4]=n=>e.value.birthdate=n),label:"Fecha de Nacimiento"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12",md:"6"},{default:a(()=>[t(d,{modelValue:e.value.birthplace,"onUpdate:modelValue":l[5]||(l[5]=n=>e.value.birthplace=n),label:"Lugar de Nacimiento"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12"},{default:a(()=>[t(d,{modelValue:e.value.fatherName,"onUpdate:modelValue":l[6]||(l[6]=n=>e.value.fatherName=n),label:"Nombre del Padre"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12"},{default:a(()=>[t(d,{modelValue:e.value.motherName,"onUpdate:modelValue":l[7]||(l[7]=n=>e.value.motherName=n),label:"Nombre de la Madre"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12"},{default:a(()=>[t(U,{label:e.value.status?"Habilitado":"Deshabilitado",modelValue:e.value.status,"onUpdate:modelValue":l[8]||(l[8]=n=>e.value.status=n),color:"blue-darken-4",inset:""},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1}),t(k,null,{default:a(()=>[t(P,{type:"button",variant:"text",color:"secondary",onClick:l[9]||(l[9]=n=>s.value=!1)},{default:a(()=>l[11]||(l[11]=[_(" Cancelar ")])),_:1}),t(N),t(P,{text:"Guardar",color:"primary",type:"submit",loading:b.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:1},512)]),_:1},8,["modelValue"])}}}),K=D({__name:"confirmations",setup(w){const v=p(!1),u=p(!1),c=p([]),b=p(0),s=p({itemsPerPage:10,sortBy:[],page:1,search:"",filters:{}}),e=I(()=>{m()},400),m=async()=>{},V=async()=>{v.value=!0,await m(),v.value=!1};return V(),(l,d)=>{const r=o("v-text-field"),U=o("v-col"),f=o("v-btn"),i=o("v-row"),P=o("v-card-item"),N=o("v-card"),k=B("permission"),C=B("tooltip");return g(),y(N,{title:"Confirmaciones",subtitle:"Registros de personas para confirmación",disabled:v.value},{default:a(()=>[t(P,{class:"border-t border-b"},{default:a(()=>[t(i,{class:"d-flex justify-space-between"},{default:a(()=>[t(U,{cols:"12",md:"4"},{default:a(()=>[t(r,{modelValue:s.value.search,"onUpdate:modelValue":d[0]||(d[0]=T=>s.value.search=T),label:"Buscar",clearable:"",onInput:S(e)},null,8,["modelValue","onInput"])]),_:1}),t(U,{cols:"12",md:"4",class:"d-md-flex d-block justify-end text-end"},{default:a(()=>[x((g(),y(f,{class:"h-md-auto me-2",disabled:v.value},{default:a(()=>[d[1]||(d[1]=_(" nuevo ")),t(S(j),{onOnSuccess:m})]),_:1},8,["disabled"])),[[k,["positions.create"]]]),x(t(f,{class:"h-md-auto",density:"comfortable",icon:"mdi-reload",onClick:V,loading:u.value},null,8,["loading"]),[[C,"Recargar registros"],[k,["positions.index"]]])]),_:1})]),_:1})]),_:1}),x(t(S(L),{options:s.value,loading:u.value,items:c.value,total:b.value,onOnUpdateTable:m},null,8,["options","loading","items","total"]),[[k,["positions.index"]]])]),_:1},8,["disabled"])}}});export{K as default};
