import{_ as T,d as $}from"./debounce-Bz1f7fWb.js";import{_ as A}from"./position.services-Ch_tZ3L6.js";import{_ as E}from"./DialogConfirm.vue_vue_type_script_setup_true_lang-Cxfsjbfz.js";import{d as C,e as p,r as n,h as G,o as g,c as V,w as t,i as k,a as e,g as b,u as U,f as B}from"./index-DgXLauUC.js";import"./ruleUtils-DaB-ACZt.js";const J=[{title:"Op.",key:"actions",value:"actions",fixed:!0,width:"50px",sortable:!1},{title:"Nombre",key:"name",value:"name"},{title:"Apellido Paterno",key:"paternalSurname",value:"paternalSurname"},{title:"Apellido Materno",key:"maternalSurname",value:"maternalSurname"},{title:"Fecha de Nacimiento",key:"birthDate",value:"birthDate"},{title:"Lugar de Nacimiento",key:"birthPlace",value:"birthPlace"},{title:"Padre",key:"father",value:"father"},{title:"Madre",key:"mother",value:"mother"},{title:"Acta",key:"act",value:"act"}],O=[{name:"Juan",paternalSurname:"Perez",maternalSurname:"Gonzalez",birthDate:"12/12/1990",birthPlace:"Mexico",father:"Juan Perez",mother:"Maria Gonzalez",act:!1},{name:"Pedro",paternalSurname:"Lopez",maternalSurname:"Garcia",birthDate:"12/12/1990",birthPlace:"Mexico",father:"Juan Perez",mother:"Maria Gonzalez",act:!1},{name:"Maria",paternalSurname:"Gonzalez",maternalSurname:"Hernandez",birthDate:"12/12/1990",birthPlace:"Mexico",father:"Juan Perez",mother:"Maria Gonzalez",act:!1},{name:"Jose",paternalSurname:"Garcia",maternalSurname:"Martinez",birthDate:"12/12/1990",birthPlace:"Mexico",father:"Juan Perez",mother:"Maria Gonzalez",act:!1},{name:"Rosa",paternalSurname:"Hernandez",maternalSurname:"Lopez",birthDate:"12/12/1990",birthPlace:"Mexico",father:"Juan Perez",mother:"Maria Gonzalez",act:!1},{name:"Luis",paternalSurname:"Martinez",maternalSurname:"Gonzalez",birthDate:"12/12/1990",birthPlace:"Mexico",father:"Juan Perez",mother:"Maria Gonzalez",act:!1},{name:"Ana",paternalSurname:"Lopez",maternalSurname:"Garcia",birthDate:"12/12/1990",birthPlace:"Mexico",father:"Juan Perez",mother:"Maria Gonzalez",act:!1}],R=C({__name:"BautipmsDataTable",props:{options:{},items:{},loading:{type:Boolean},total:{}},emits:["onUpdateTable"],setup(M,{emit:f}){const u=f,_=p(!1),v=async a=>{_.value=!0,await A(a)&&u("onUpdateTable"),_.value=!1},d=a=>{console.log(a)};return(a,o)=>{const z=n("v-icon"),l=n("v-list-item"),i=n("v-list"),m=n("v-menu"),y=n("v-btn"),x=n("v-chip"),P=n("v-data-table-server"),c=G("permission");return g(),V(P,{"items-per-page":a.options.itemsPerPage,"onUpdate:itemsPerPage":[o[1]||(o[1]=s=>a.options.itemsPerPage=s),o[4]||(o[4]=s=>u("onUpdateTable"))],"sort-by":a.options.sortBy,"onUpdate:sortBy":[o[2]||(o[2]=s=>a.options.sortBy=s),o[5]||(o[5]=s=>u("onUpdateTable"))],page:a.options.page,"onUpdate:page":[o[3]||(o[3]=s=>a.options.page=s),o[6]||(o[6]=s=>u("onUpdateTable"))],headers:U(J),items:a.items.length?a.items:U(O),"items-length":a.total,loading:_.value,"item-value":"id","multi-sort":""},{"item.actions":t(({item:s})=>[k((g(),V(y,{icon:"",density:"compact",variant:"text"},{default:t(()=>[e(z,null,{default:t(()=>o[7]||(o[7]=[b("mdi-dots-vertical")])),_:1}),e(m,{activator:"parent"},{default:t(()=>[e(i,{density:"compact"},{default:t(()=>[k((g(),V(l,{key:"edit",value:"edit","append-icon":"mdi-pencil",class:"text-subtitle-2"},{append:t(()=>[e(z,{size:"small"},{default:t(()=>o[8]||(o[8]=[b(" mdi-pencil ")])),_:1})]),default:t(()=>[o[9]||(o[9]=b(" Editar ")),e(U(T),{formState:s,onOnSuccess:o[0]||(o[0]=S=>u("onUpdateTable"))},null,8,["formState"])]),_:2},1024)),[[c,["positions.edit"]]]),k((g(),V(l,{key:"delete",value:"delete",class:"text-red text-subtitle-2"},{append:t(()=>[e(z,{size:"small",color:"red"},{default:t(()=>o[10]||(o[10]=[b(" mdi-delete ")])),_:1})]),default:t(()=>[o[11]||(o[11]=b(" Eliminar ")),e(E,{title:"Eliminar",message:"¿Está seguro de eliminar este registro?","text-cancel":"No","text-confirm":"Confirmar",loading:_.value,onOnConfirm:()=>v(s.id)},null,8,["loading","onOnConfirm"])]),_:2},1024)),[[c,["positions.delete"]]])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[c,["positions.edit","positions.delete"]]])]),"item.act":t(({item:s})=>[s.act?(g(),V(x,{key:0,color:"success","text-color":"white",small:""},{default:t(()=>o[12]||(o[12]=[b(" Emitida ")])),_:1})):(g(),V(y,{key:1,color:"black","text-color":"white","prepend-icon":"mdi-certificate",variant:"tonal",onClick:S=>d(s)},{default:t(()=>[e(U(h),{formState:s},null,8,["formState"]),o[13]||(o[13]=b(" Emitir "))]),_:2},1032,["onClick"]))]),_:1},8,["items-per-page","sort-by","page","headers","items","items-length","loading"])}}}),L=C({__name:"BautipmsForm",props:{formState:{type:Object,default:()=>({})}},emits:["onSuccess"],setup(M,{emit:f}){const u=f,_=M,v=p(!1),d=p(!1),a=p({..._.formState}),o=async()=>{v.value=!0,setTimeout(()=>{v.value=!1,d.value=!1,u("onSuccess")},1500)};return(z,l)=>{const i=n("v-text-field"),m=n("v-col"),y=n("v-switch"),x=n("v-row"),P=n("v-card-item"),c=n("v-btn"),s=n("v-spacer"),S=n("v-card-actions"),w=n("v-card"),N=n("v-form"),D=n("v-dialog");return g(),V(D,{"max-width":"700",modelValue:d.value,"onUpdate:modelValue":l[9]||(l[9]=r=>d.value=r),activator:"parent"},{default:t(()=>[e(N,{ref:"formRef",onSubmit:B(o,["prevent"])},{default:t(()=>[e(w,{title:a.value.id?"Editar Registro":"Nuevo Registro"},{default:t(()=>[e(P,{class:"border-t border-b"},{default:t(()=>[e(x,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[e(i,{modelValue:a.value.name,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value.name=r),label:"Nombres"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(i,{modelValue:a.value.paternalSurname,"onUpdate:modelValue":l[1]||(l[1]=r=>a.value.paternalSurname=r),label:"Apellido Paterno"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(i,{modelValue:a.value.maternalSurname,"onUpdate:modelValue":l[2]||(l[2]=r=>a.value.maternalSurname=r),label:"Apellido Materno"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(i,{modelValue:a.value.birthdate,"onUpdate:modelValue":l[3]||(l[3]=r=>a.value.birthdate=r),label:"Fecha de Nacimiento"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(i,{modelValue:a.value.birthplace,"onUpdate:modelValue":l[4]||(l[4]=r=>a.value.birthplace=r),label:"Lugar de Nacimiento"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(i,{modelValue:a.value.fatherName,"onUpdate:modelValue":l[5]||(l[5]=r=>a.value.fatherName=r),label:"Nombre del Padre"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(i,{modelValue:a.value.motherName,"onUpdate:modelValue":l[6]||(l[6]=r=>a.value.motherName=r),label:"Nombre de la Madre"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(y,{label:a.value.status?"Habilitado":"Deshabilitado",modelValue:a.value.status,"onUpdate:modelValue":l[7]||(l[7]=r=>a.value.status=r),color:"blue-darken-4",inset:""},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(c,{type:"button",variant:"text",color:"secondary",onClick:l[8]||(l[8]=r=>d.value=!1)},{default:t(()=>l[10]||(l[10]=[b(" Cancelar ")])),_:1}),e(s),e(c,{text:"Guardar",color:"primary",type:"submit",loading:v.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:1},512)]),_:1},8,["modelValue"])}}}),h=C({__name:"BautipmEmitCertificateForm",props:{formState:{type:Object,default:()=>({})}},emits:["onSuccess"],setup(M,{emit:f}){const u=f,_=M,v=p(!1),d=p(!1),a=p({..._.formState}),o=async()=>{v.value=!0,setTimeout(()=>{v.value=!1,d.value=!1,u("onSuccess")},1500)};return(z,l)=>{const i=n("v-text-field"),m=n("v-col"),y=n("v-textarea"),x=n("v-row"),P=n("v-card-item"),c=n("v-btn"),s=n("v-spacer"),S=n("v-card-actions"),w=n("v-card"),N=n("v-form"),D=n("v-dialog");return g(),V(D,{"max-width":"700",modelValue:d.value,"onUpdate:modelValue":l[7]||(l[7]=r=>d.value=r),activator:"parent"},{default:t(()=>[e(N,{ref:"formRef",onSubmit:B(o,["prevent"])},{default:t(()=>[e(w,{title:"Editar Certificado de Bautizo"},{default:t(()=>[e(P,{class:"border-t border-b"},{default:t(()=>[e(x,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[e(i,{modelValue:a.value.name,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value.name=r),label:"Nombres",readonly:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(i,{modelValue:a.value.paternalSurname,"onUpdate:modelValue":l[1]||(l[1]=r=>a.value.paternalSurname=r),label:"Apellido Paterno",readonly:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(i,{modelValue:a.value.maternalSurname,"onUpdate:modelValue":l[2]||(l[2]=r=>a.value.maternalSurname=r),label:"Apellido Materno",readonly:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(i,{type:"date",modelValue:a.value.bautismDate,"onUpdate:modelValue":l[3]||(l[3]=r=>a.value.bautismDate=r),label:"Fecha de Bautizo"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(i,{modelValue:a.value.godfatherName,"onUpdate:modelValue":l[4]||(l[4]=r=>a.value.godfatherName=r),label:"Nombre del Padrino"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(y,{modelValue:a.value.observation,"onUpdate:modelValue":l[5]||(l[5]=r=>a.value.observation=r),label:"Anotaciones marginales",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(c,{type:"button",variant:"text",color:"secondary",onClick:l[6]||(l[6]=r=>d.value=!1)},{default:t(()=>l[8]||(l[8]=[b(" Cancelar ")])),_:1}),e(s),e(c,{text:"Guardar",color:"primary",type:"submit",loading:v.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1},8,["modelValue"])}}}),K=C({__name:"baptisms",setup(M){const f=p(!1),u=p(!1),_=p([]),v=p(0),d=p({itemsPerPage:10,sortBy:[],page:1,search:"",filters:{}}),a=$(()=>{o()},400),o=async()=>{},z=async()=>{f.value=!0,await o(),f.value=!1};return z(),(l,i)=>{const m=n("v-text-field"),y=n("v-col"),x=n("v-btn"),P=n("v-row"),c=n("v-card-item"),s=n("v-card"),S=G("permission"),w=G("tooltip");return g(),V(s,{title:"Bautismos",subtitle:"Registros de personas para bautismo",disabled:f.value},{default:t(()=>[e(c,{class:"border-t border-b"},{default:t(()=>[e(P,{class:"d-flex justify-space-between"},{default:t(()=>[e(y,{cols:"12",md:"4"},{default:t(()=>[e(m,{modelValue:d.value.search,"onUpdate:modelValue":i[0]||(i[0]=N=>d.value.search=N),label:"Buscar",clearable:"",onInput:U(a)},null,8,["modelValue","onInput"])]),_:1}),e(y,{cols:"12",md:"4",class:"d-md-flex d-block justify-end text-end"},{default:t(()=>[k((g(),V(x,{class:"h-md-auto me-2",disabled:f.value},{default:t(()=>[i[1]||(i[1]=b(" nuevo ")),e(U(L),{onOnSuccess:o})]),_:1},8,["disabled"])),[[S,["positions.create"]]]),k(e(x,{class:"h-md-auto",density:"comfortable",icon:"mdi-reload",onClick:z,loading:u.value},null,8,["loading"]),[[w,"Recargar registros"],[S,["positions.index"]]])]),_:1})]),_:1})]),_:1}),k(e(U(R),{options:d.value,loading:u.value,items:_.value,total:v.value,onOnUpdateTable:o},null,8,["options","loading","items","total"]),[[S,["positions.index"]]])]),_:1},8,["disabled"])}}});export{K as default};
